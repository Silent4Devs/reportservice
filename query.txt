
            select
            tp.identificador as "ID",
            tp.proyecto as "Proyecto",
            tc.nombre as "Cliente",
            a.area as "√Årea(s)",
            e.name as "Empleados participantes",
            tpe.horas_asignadas as "Horas del empleado",
            tpe.horas_asignadas * tpe.costo_hora as "Costo total del empleado",
            tp.estatus as "Estatus",
                sum(tpe.horas_asignadas)over(partition by tpe.proyecto_id) as "Horas totales del proyecto",
                sum(tpe.horas_asignadas * tpe.costo_hora) over(partition by tpe.proyecto_id) as "Costo total del Proyecto"
            from timesheet_proyectos tp 
            left join timesheet_clientes tc on tp.cliente_id =tc.id
            left join timesheet_proyectos_empleados tpe on tp.id =tpe.proyecto_id 
            left join areas a on tpe.area_id =a.id 
            left join empleados e on tpe.empleado_id =e.id 
        
        group by
            tp.proyecto,
            tp.identificador,
            tc.nombre,
            a.area,
            e.name,
            tpe.horas_asignadas,
            tpe.costo_hora,
            tp.estatus,
            tpe.proyecto_id
    